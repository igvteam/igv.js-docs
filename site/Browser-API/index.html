<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Browser API - igv.js</title>
    <link href="../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="../js/bootstrap-3.3.7.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "loadGenome", url: "#_top", children: [
          ]},
          {title: "loadSessionObject", url: "#loadsessionobject", children: [
          ]},
          {title: "loadSession", url: "#loadsession", children: [
          ]},
          {title: "loadTrack", url: "#loadtrack", children: [
          ]},
          {title: "loadSampleInfo", url: "#loadsampleinfo", children: [
          ]},
          {title: "discardSampleInfo", url: "#discardsampleinfo", children: [
          ]},
          {title: "findTracks", url: "#findtracks", children: [
          ]},
          {title: "removeTrack", url: "#removetrack", children: [
          ]},
          {title: "removeTrackByName", url: "#removetrackbyname", children: [
          ]},
          {title: "loadROI", url: "#loadroi", children: [
          ]},
          {title: "clearROIs", url: "#clearrois", children: [
          ]},
          {title: "getUserDefinedROIs", url: "#getuserdefinedrois", children: [
          ]},
          {title: "search", url: "#search", children: [
          ]},
          {title: "currentLoci", url: "#currentloci", children: [
          ]},
          {title: "zoomIn", url: "#zoomin", children: [
          ]},
          {title: "zoomOut", url: "#zoomout", children: [
              {title: "currentLoci", url: "#currentloci_1" },
          ]},
          {title: "visibilityChange", url: "#visibilitychange", children: [
          ]},
          {title: "toJSON", url: "#tojson", children: [
          ]},
          {title: "compressedSession", url: "#compressedsession", children: [
          ]},
          {title: "toSVG", url: "#tosvg", children: [
          ]},
          {title: "setCustomCursorGuideMouseHandler", url: "#setcustomcursorguidemousehandler", children: [
          ]},
        ];

    </script>
    <script src="../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    <p>After initialization, the browser can be controlled using the functions described below. </p>
<h2 id="loadgenome">loadGenome<a class="headerlink" href="#loadgenome" title="Direct link to this section">#</a></h2>
<p><strong>async</strong></p>
<p>Returns a promise to load a reference genome. </p>
<pre><code class="language-js">browser.loadGenome(config)
</code></pre>
<p>See the <a href="../Reference-Genome/">reference object</a> description for details on configuration options.</p>
<p><strong>Example</strong></p>
<pre><code>browser.loadGenome(
{
    &quot;id&quot;: &quot;hg38&quot;,
    &quot;name&quot;: &quot;Human (GRCh38/hg38)&quot;,
    &quot;fastaURL&quot;: &quot;https://s3.amazonaws.com/igv.broadinstitute.org/genomes/seq/hg38/hg38.fa&quot;,
    &quot;indexURL&quot;: &quot;https://s3.amazonaws.com/igv.broadinstitute.org/genomes/seq/hg38/hg38.fa.fai&quot;,
    &quot;cytobandURL&quot;: &quot;https://s3.amazonaws.com/igv.broadinstitute.org/annotations/hg38/cytoBandIdeo.txt&quot;,
    &quot;tracks&quot;: [
      {
        &quot;name&quot;: &quot;Refseq Genes&quot;,
        &quot;url&quot;: &quot;https://s3.amazonaws.com/igv.org.genomes/hg38/refGene.txt.gz&quot;,
        &quot;order&quot;: 1000000,
        &quot;indexed&quot;: false
      }
    ]
  }
}
</code></pre>
<h2 id="loadsessionobject">loadSessionObject<a class="headerlink" href="#loadsessionobject" title="Direct link to this section">#</a></h2>
<p><strong>async</strong></p>
<p>Load a session object, also referred to as a browser configuration object.  See <a href="Browser-Creation">Browser Creation</a> for details. <br />
Loading a session will clear the current reference genome and all tracks.</p>
<pre><code class="language-js">browser.loadSessionObject(config)
</code></pre>
<h2 id="loadsession">loadSession<a class="headerlink" href="#loadsession" title="Direct link to this section">#</a></h2>
<p><strong>async</strong></p>
<p>Load a session by url or a javascript File blob, which should point to a valid session json object.  The json 
is a representation of a browser configuration object described in the <a href="Browser-Creation">Browser Creation</a> section, but does not 
support parameter values not representable as json such as functions and promises.</p>
<p>The method takes an object with a single property, <code>url</code>, which can be a URL or a local File blob.</p>
<pre><code class="language-js">browser.loadSession({url})
</code></pre>
<h2 id="loadtrack">loadTrack<a class="headerlink" href="#loadtrack" title="Direct link to this section">#</a></h2>
<p><strong>async</strong></p>
<p>Load a track and return a promise for the track object. See the <a href="../tracks/Tracks/">Tracks page</a> for more detail on configuration options.</p>
<pre><code class="language-js">const track = await browser.loadTrack(config)
</code></pre>
<p><strong>Example</strong></p>
<pre><code class="language-js">browser.loadTrack({
  url: 'http://data.broadinstitute.org/igvdata/1KG/b37/data/HG02450/alignment/HG02450.mapped.ILLUMINA.bwa.ACB.low_coverage.20120522.bam',
  label: 'HG02450'
    })

</code></pre>
<h2 id="loadsampleinfo">loadSampleInfo<a class="headerlink" href="#loadsampleinfo" title="Direct link to this section">#</a></h2>
<p><strong>async</strong></p>
<p>Load a <a href="../SampleInfo/">sample information</a> file.  </p>
<p>The method can take any one of the following as a parameter:</p>
<p>• URL</p>
<p>• local File blob</p>
<p>• JavaScript object</p>
<pre><code class="language-js">browser.loadSampleInfo({url}) or browser.loadSampleInfo(sampleInfoObject)
</code></pre>
<h2 id="discardsampleinfo">discardSampleInfo<a class="headerlink" href="#discardsampleinfo" title="Direct link to this section">#</a></h2>
<p><strong>async</strong></p>
<p>Discard all sample information data.</p>
<p>The method takes no parameters.</p>
<pre><code class="language-js">browser.discardSampleInfo()
</code></pre>
<h2 id="findtracks">findTracks<a class="headerlink" href="#findtracks" title="Direct link to this section">#</a></h2>
<p>Returns an array of tracks matching input critera.  Criteria can be specified as either</p>
<ol>
<li>A property value pair</li>
<li>A function taking the track object as an argument and returning true or false</li>
</ol>
<pre><code class="language-js">const tracks = browser.findTracks(propertyOrFunction, value)
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-js">            console.log(&quot;Find tracks by property 'id' with value 'T2':&quot;);
            const tracksById = browser.findTracks(&quot;id&quot;, &quot;T2&quot;);
            for(let t of tracksById) {
                console.log(`  id=${t.id}   name=${t.name}`);
            }

            console.log(&quot;Find tracks by type 'wig'&quot;);
            const tracksByType = browser.findTracks(&quot;type&quot;, &quot;wig&quot;);
            for(let t of tracksByType) {
                console.log(`  id=${t.id}   name=${t.name}`);
            }

            console.log(&quot;Find tracks by function function(track) {return track.name &amp;&amp; track.name.startsWith('GM128')}&quot;);
            const tracksByFunction = browser.findTracks(function(track) {
                return track.name &amp;&amp; track.name.startsWith('GM128');
            });
</code></pre>
<h2 id="removetrack">removeTrack<a class="headerlink" href="#removetrack" title="Direct link to this section">#</a></h2>
<p>Remove a track object from the browser.  </p>
<pre><code class="language-js">browser.removeTrack(track)
</code></pre>
<h2 id="removetrackbyname">removeTrackByName<a class="headerlink" href="#removetrackbyname" title="Direct link to this section">#</a></h2>
<p>Remove track(s) whose "name" property matches the given name.</p>
<pre><code class="language-js">browser.removeTrackByName(name)
</code></pre>
<h2 id="loadroi">loadROI<a class="headerlink" href="#loadroi" title="Direct link to this section">#</a></h2>
<p><strong>async</strong></p>
<p>Load an annotation file or array of annotation files to define regions of interest (ROIs).  Regions of interest are
overlaid on the genome view across all tracks.  See <a href="../Regions-of-Interest/">Regions of Interest</a> for more details.</p>
<pre><code class="language-js">browser.loadROI(trackConfig | arrayOfTrackConfigs )
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-js">browser.loadROI([
{
    name: 'ROI set 1',
    url: 'https://s3.amazonaws.com/igv.org.test/data/roi/roi_bed_1.bed',
    format: bed,
    color: &quot;rgba(68, 134, 247, 0.25)&quot;
},
{
    name: 'ROI set 2',
    url: 'https://s3.amazonaws.com/igv.org.test/data/roi/roi_bed_2.bed',
    format: bed,
    color: &quot;rgba(0, 150, 50, 0.25)&quot;
})
</code></pre>
<h2 id="clearrois">clearROIs<a class="headerlink" href="#clearrois" title="Direct link to this section">#</a></h2>
<p>Remove all regions of interest.</p>
<pre><code class="language-js">browser.clearROIs()
</code></pre>
<h2 id="getuserdefinedrois">getUserDefinedROIs<a class="headerlink" href="#getuserdefinedrois" title="Direct link to this section">#</a></h2>
<p><strong>async</strong></p>
<p>Returns a promise for an array containing all user-defined ROIs (regions of interest created interactively during
an igv.js session).</p>
<pre><code class="language-js">const rois = await browser.getUserDefinedROIs()
</code></pre>
<h2 id="search">search<a class="headerlink" href="#search" title="Direct link to this section">#</a></h2>
<p><strong>async</strong></p>
<p>Search by a locus, and change browser locus to corresponding region.</p>
<p>By default the search function uses a webservice to query positions of RefSeq genes for genome "hg19".<br />
This can be overriden during initialization by supplying a url to a custom webservice.<br />
For details see <a href="https://github.com/igvteam/igv.js/wiki/Browser">Browser initialization</a>.</p>
<pre><code class="language-js">browser.search(locus)
</code></pre>
<p><strong>Examples</strong></p>
<pre><code class="language-js">browser.search('EGFR')
browser.search('chr10:1000-2000')
</code></pre>
<p>Multiple loci can be passed as space delimited list.  This will result in a multi-locus view.</p>
<pre><code class="language-js">browser.search('chr10:1000-2000 EGFR')
</code></pre>
<p>This function returns a promise which resolves to <code>true</code> if the symbol was found, <code>false</code> otherwise.</p>
<h2 id="currentloci">currentLoci<a class="headerlink" href="#currentloci" title="Direct link to this section">#</a></h2>
<p>Return the current genomic region as a locus string, or array of locus strings if in multi-locus view.</p>
<h2 id="zoomin">zoomIn<a class="headerlink" href="#zoomin" title="Direct link to this section">#</a></h2>
<p>Zoom in by a factor of 2 </p>
<pre><code class="language-js">browser.zoomIn()
</code></pre>
<h2 id="zoomout">zoomOut<a class="headerlink" href="#zoomout" title="Direct link to this section">#</a></h2>
<p>Zoom out by a factor of 2 </p>
<pre><code class="language-js">browser.zoomOut()
</code></pre>
<h3 id="currentloci_1">currentLoci<a class="headerlink" href="#currentloci_1" title="Direct link to this section">#</a></h3>
<p>Return the current genomic region as a locus string, or an array of locus strings if in multi-locus view</p>
<pre><code class="language-js">const locusStringOrArray = browser.currentLoci()
</code></pre>
<h2 id="visibilitychange">visibilityChange<a class="headerlink" href="#visibilitychange" title="Direct link to this section">#</a></h2>
<p>Signal a change in visibility, typically from hidden  (e.g. display:none) to shown  (e.g. display:block).<br />
This is necessary because changes in display attribute do not trigger events.</p>
<pre><code class="language-js">browser.visibilityChange()
</code></pre>
<p>If multiple igv browsers are on a page, the function <code>igv.visibilityChange</code> can be used to signal all.</p>
<pre><code class="language-js">    igv.visibilityChange();
</code></pre>
<h2 id="tojson">toJSON<a class="headerlink" href="#tojson" title="Direct link to this section">#</a></h2>
<p>Return the current state of the browser as a JSON style object.  This object can be loaded with loadSessionObject.
Note the returned value is a jsonifiable object, not a json string.</p>
<pre><code class="language-js">   const json = browser.toJSON();
</code></pre>
<h2 id="compressedsession">compressedSession<a class="headerlink" href="#compressedsession" title="Direct link to this section">#</a></h2>
<p>Return a compressed, encoded, string representing the current browser state.   </p>
<pre><code class="language-js">const sessionString = browser.compressedSession()
</code></pre>
<p>This string can be used to load the session on any page hosting an igv.js instance with a url of the form</p>
<pre><code>https://myhost/mypage?sessionURL=blob:&lt;compressed session string&gt;
</code></pre>
<p>Note to reinstate the session <code>queryParametersSupported</code> must be set to true in the igv.js configuration.</p>
<h2 id="tosvg">toSVG<a class="headerlink" href="#tosvg" title="Direct link to this section">#</a></h2>
<p>Convert the browser contents to SVG format. This includes ideogram, ruler, and all tracks. The value returned by this 
function is a serialized SVG object.</p>
<pre><code class="language-js">const svg = browser.toSVG()
</code></pre>
<h2 id="setcustomcursorguidemousehandler">setCustomCursorGuideMouseHandler<a class="headerlink" href="#setcustomcursorguidemousehandler" title="Direct link to this section">#</a></h2>
<p>Pass genomic location and mouse location with respect to trackContainer to the provided handler.
The data is transmitted as the cursor guide is manipulated across the track container.</p>
<p>The handler function will receive an object with the following properties
* bp - cursor-guide location. base-pair units.
* start - track start location. base-pair units.
* end - track end location. base-pair units.
* interpolant - cursor-guide location. 0 - 1 units.</p>
<p><strong>Example</strong></p>
<pre><code class="language-js">browser.setCustomCursorGuideMouseHandler(({ bp, start, end, interpolant }) =&gt; {  });
</code></pre>

  <br>
</div>

<footer class="container-fluid wm-page-content">
  <!--
     <p>
       <a href="https://github.com/igvteam/igv.js-docs/edit/master/docs/Browser-API.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>
  -->
  <!-- <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p> -->
</footer>

</body>
</html>